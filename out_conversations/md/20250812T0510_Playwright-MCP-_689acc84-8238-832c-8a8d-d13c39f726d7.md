---
conversation_id: "689acc84-8238-832c-8a8d-d13c39f726d7"
title: "Playwright MCP サーバー"
create_time: 1754975421.427665
update_time: 1754975492.404178
language_guess: "en"
num_messages: 17
part_index: 1
part_count: 1
---

### user — 2025-08-12T05:10:20.256320+00:00

調査お願い
Playwright mcp server
機能と使い方

### system — 2025-08-12T05:10:21.427665+00:00

_(empty)_

### user — 2025-08-12T05:10:21.427665+00:00

_(empty)_

### assistant — 2025-08-12T05:10:22.357439+00:00

{"search_query": [{"q": "Playwright MCP server"}, {"q": "Microsoft Playwright MCP server GitHub"}, {"q": "Model Context Protocol Playwright server"}, {"q": "playwright-mcp server usage example"}], "response_length": "short"}

### system — 2025-08-12T05:10:22.810384+00:00

_(empty)_

### assistant — 2025-08-12T05:10:22.834051+00:00

_(empty)_

### assistant — 2025-08-12T05:10:23.241726+00:00

_(empty)_

### tool — 2025-08-12T05:10:25.651514+00:00

_(empty)_

### assistant — 2025-08-12T05:10:26.892921+00:00

{"open": [{"ref_id": "turn0search0"}], "response_length": "short"}

### tool — 2025-08-12T05:10:28.874134+00:00

_(empty)_

### assistant — 2025-08-12T05:10:29.012930+00:00

{"open": [{"ref_id": "turn0search11"}], "response_length": "short"}

### tool — 2025-08-12T05:10:32.094926+00:00

_(empty)_

### assistant — 2025-08-12T05:10:32.349230+00:00

{"search_query": [{"q": "Model Context Protocol install guide mcp servers clients"}, {"q": "Claude Desktop MCP servers configuration"}], "response_length": "short"}

### tool — 2025-08-12T05:10:34.094258+00:00

_(empty)_

### assistant — 2025-08-12T05:10:35.017558+00:00

やあ、いらっしゃい！司令、Playwright MCP Server の「なにができる／どう使う」をギュッとまとめました。  

# これなに？
Playwright MCP Server は、LLM（Copilot/Claude/Cursor など）が **Playwright 経由でブラウザを操作**できるようにする MCP（Model Context Protocol）サーバです。スクショ解析ではなく **アクセシビリティ・スナップショット**（構造化データ）を使うので軽量・決定的に動きます。citeturn1view0

---

# 主な機能（ツール）
代表的な MCP ツール名と概要は以下（実体はもっとあります）：
- `browser_navigate` / `browser_navigate_back` / `browser_navigate_forward`：URL遷移・戻る/進む。citeturn1view0  
- `browser_snapshot`：現在ページのアクセシビリティ・スナップショット取得（行動の基点）。citeturn1view0  
- `browser_click` / `browser_type` / `browser_hover` / `browser_select_option` / `browser_press_key`：要素操作・入力。citeturn1view0  
- `browser_take_screenshot` / `browser_pdf_save`（`--caps=pdf` で有効）：証跡用の画像/PDF取得。citeturn1view0  
- `browser_network_requests` / `browser_console_messages`：ネットワーク・コンソールの取得。citeturn1view0  
- 位置座標操作（`browser_mouse_*_xy`）：`--caps=vision` で有効化。citeturn1view0

特徴：**視覚モデル不要**、**決定的**、**高速**。citeturn1view0

---

# 対応クライアントとインストール
## 1) VS Code（GitHub Copilot Agent）
VS Code は MCP をネイティブ対応。拡張パネルに **MCP Servers** が出て、Playwright MCP をクリック導入できます（GUI で開始/停止も可）。citeturn2view0turn3search9  
CLI なら次のワンライナー（公式 README 記載）：
```json
{
  "mcpServers": {
    "playwright": { "command": "npx", "args": ["@playwright/mcp@latest"] }
  }
}
```
（`code --add-mcp` でも追加可）citeturn1view0

## 2) Claude Code（CLI）
```bash
claude mcp add playwright npx @playwright/mcp@latest
```
これで `claude` 実行時に Playwright MCP が使えます。citeturn0search7

## 3) Claude Desktop（GUI 1クリック）
Desktop Extensions により 1クリック導入が可能。設定＞Extensions から追加。citeturn3search10turn3search1

## 4) Cursor / Windsurf / LM Studio など
各クライアントの MCP 設定画面から **command: `npx @playwright/mcp`** を登録すればOK（公式 README に手順まとまってます）。citeturn1view0

---

# 起動オプション（セキュリティ／挙動）
`args` に以下が渡せます：
- `--allowed-origins` / `--blocked-origins`：外部リクエストの許可/拒否。  
- `--block-service-workers`：SW をブロック。  
- `--browser`：`chrome|firefox|webkit|msedge`。  
- `--caps=vision,pdf`：座標操作／PDF 機能を有効化。  
（すべて公式 README の `--help` に明記）citeturn1view0

---

# 使い方の流れ（最小パターン）
1. **Navigate**：`browser_navigate` で対象 URL へ。  
2. **Snapshot**：`browser_snapshot` を取得（要素参照 `ref` を得る）。  
3. **Act**：`browser_click` や `browser_type` に、`element`（人間可読説明）と `ref`（正確な参照）を渡して操作。  
4. **検証**：`browser_console_messages` / `browser_network_requests` / 必要なら `browser_take_screenshot`。citeturn1view0

> 例：Copilot/Claude に「Playwright MCP で `example.com` を開き、‘More information’ リンクをクリックしてタイトルを報告して」と指示 → サーバが `navigate → snapshot → click → snapshot` のようにツールチェーンを自動で呼びます（Claude Code 実例の紹介記事あり）。citeturn0search7

---

# 実運用 Tips
- **まず `browser_install`**：ブラウザ未インストール警告が出たらこれを呼ぶ。citeturn1view0  
- **要素特定は snapshot ベース**：スクショでなくアクセシビリティ木を基点にするのが正道。テスト自動生成や探索テストの記事も多数。citeturn0search14turn0search15  
- **権限ガード**：`element` は人間可読説明で「この要素を触る」明示を求める作り。誤操作防止に効きます。citeturn1view0  
- **CORS/外部呼び出し制御**：社内サイトなら `--allowed-origins` と SW ブロックで安定度・セキュリティを調整。citeturn1view0  
- **VS Code 連携が最短**：拡張パネルから導入→Copilot Agent で自然文指示、の導線が一番ラク。citeturn2view0turn3search9

---

# 類似実装・ドキュメント
- Microsoft 公式リポジトリ（機能一覧・導入手順の一次情報）。citeturn1view0  
- サードパーティ実装やドキュメント（機能の差分や具体例を把握するのに便利）。citeturn0search1turn0search2turn0search3turn0search4  
- MCP の基本（クライアント設定や概念の整理に）：公式サイトのクイックスタート。citeturn3search0turn3search12

---

# よくあるハマり
- **（初回）ブラウザが無い** → `browser_install` を呼ぶ。citeturn1view0  
- **要素が見つからない** → まず `browser_snapshot` を最新化、`element`（説明）と `ref`（参照）のペアを正しく渡す。citeturn1view0  
- **社内サイトでリソースが落ちる** → `--allowed-origins` を明示、SW をブロック。citeturn1view0  
- **VS Code に出ない** → MCP Servers 欄を確認、もしくは `code --add-mcp` で再登録。citeturn2view0turn1view0

---

必要なら、司令の環境（VS Code/Copilot 前提か、Claude/Cursor 前提か）に合わせて **最小セットの `mcp.json`/settings スニペット** をこちらで作ります。どれで使う予定か教えてください！

送信日時（日本時間）：[[REDACTED_PHONE]]  🕘

### assistant — 2025-08-12T05:10:40.396663+00:00

_(empty)_
