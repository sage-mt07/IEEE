---
conversation_id: "67b2d778-fd54-8007-ae36-52656c47850d"
title: "0x8024402C エラー対策"
create_time: 1739773817.368172
update_time: 1740006532.627934
language_guess: "en"
num_messages: 5
part_index: 1
part_count: 1
---

### system — 2025-02-17T06:30:17.368172+00:00

_(empty)_

### user — 2025-02-17T06:30:17.377208+00:00

azureのvmでwindows10としている language のbasic typeをダウンロード時に0x8024402Cが出る原因と対策

### assistant — 2025-02-17T06:31:16.290112+00:00

_(empty)_

### assistant — 2025-02-17T06:31:16.290237+00:00

エラーコード `0x8024402C` は、Windows Update に関連するエラーで、主に以下のような原因が考えられます。

### **原因**
1. **プロキシ設定の問題**  
   - Azure VM の Windows 10 でプロキシが適切に設定されていない場合、Windows Update の接続に失敗することがあります。

2. **Windows Update 設定の不備**  
   - Windows Update の設定が適切でないと、言語パック（Language Basic Type）のダウンロードに失敗することがあります。

3. **ネットワークの制限**  
   - Azure VM のネットワーク設定（NSG、ファイアウォールなど）により、Windows Update サーバーへの接続がブロックされている可能性があります。

4. **レジストリの問題**  
   - Windows Update の一時キャッシュやレジストリが破損している可能性があります。

5. **WSUS（Windows Server Update Services）による制限**  
   - 企業環境などで WSUS を利用している場合、言語パックが承認されていないとダウンロードできない場合があります。

---

### **対策**
#### **1. プロキシ設定の確認と解除**
Azure VM でプロキシが設定されている場合、以下のコマンドで確認・解除できます。

```powershell
netsh winhttp show proxy
```
プロキシが設定されている場合は、以下のコマンドで解除してみてください。

```powershell
netsh winhttp reset proxy
```

または、以下のようにプロキシ設定を明示的に設定することも可能です。

```powershell
netsh winhttp set proxy proxy-server="http://yourproxy:port" bypass-list="*.yourdomain.com"
```

#### **2. Windows Update のリセット**
以下のコマンドを管理者権限で実行し、Windows Update をリセットします。

```powershell
net stop wuauserv
net stop cryptSvc
net stop bits
net stop msiserver
ren C:\Windows\SoftwareDistribution SoftwareDistribution.old
ren C:\Windows\System32\catroot2 Catroot2.old
net start wuauserv
net start cryptSvc
net start bits
net start msiserver
```

その後、再度 Windows Update を試してください。

#### **3. ネットワーク設定の確認**
Azure の NSG（Network Security Group）や Windows Defender ファイアウォールの設定を確認し、以下のドメインへの通信が許可されていることを確認してください。

- `*.windowsupdate.microsoft.com`
- `*.update.microsoft.com`
- `*.windows.com`
- `*.microsoft.com`

ファイアウォールの設定を一時的に無効化して試す場合は、以下のコマンドを実行できます。

```powershell
netsh advfirewall set allprofiles state off
```
※ この設定はセキュリティリスクがあるため、問題の切り分け後に `on` に戻してください。

```powershell
netsh advfirewall set allprofiles state on
```

#### **4. レジストリの修正**
レジストリが破損している場合、修正することで解決することがあります。

1. `regedit` を開く
2. 以下のキーへ移動：
   ```
   HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\WindowsUpdate
   ```
3. `WUServer` や `WUStatusServer` の値がある場合、削除する。
4. PC を再起動後、再度 Windows Update を実行。

#### **5. WSUS の影響を確認**
企業環境で WSUS を利用している場合、手動で Microsoft の Windows Update サーバーに接続することで解決する可能性があります。

以下のコマンドを管理者権限で実行して、WSUS を無効化してみてください。

```powershell
reg add "HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\WindowsUpdate" /v UseWUServer /t REG_DWORD /d 0 /f
```

その後、Windows Update を再実行します。

---

### **まとめ**
- **プロキシ設定を確認・解除**
- **Windows Update をリセット**
- **ネットワーク設定（NSG、ファイアウォール）を確認**
- **レジストリの修正**
- **WSUS の影響を除外**

上記の手順を試し、まだ問題が解決しない場合は、エラーログ（`C:\Windows\WindowsUpdate.log`）を確認し、追加の対策を検討します。
