---
conversation_id: "6720ada4-36a4-8007-9318-0f6d26fd09df"
title: "Azure DevOps ステータス更新"
create_time: 1730194852.363359
update_time: 1730195158.100477
language_guess: "en"
num_messages: 7
part_index: 1
part_count: 1
---

### system — 2024-10-29T09:40:52.363359+00:00

_(empty)_

### user — 2024-10-29T09:40:52.369137+00:00

AzureDevOpsのパイプラインにテスト済みとか利用者がステータスを更新する仕組みはあるのか

### assistant — 2024-10-29T09:41:19.817030+00:00

_(empty)_

### assistant — 2024-10-29T09:41:19.817148+00:00

Azure DevOps のパイプラインでは、テスト済みや利用者がステータスを更新するためのいくつかの仕組みが提供されています。

1. **手動承認ステップ**：パイプライン内で特定のステージに進む前に承認が必要な「手動承認」ステップを設定できます。これにより、利用者（通常はレビュアーや管理者）がパイプラインの進行状況を確認し、手動で「テスト済み」や「レビュー完了」といったステータスを設定できます。

2. **ステータスバッジ**：パイプラインが成功したか失敗したかを示すステータスバッジをプロジェクトに表示できます。これにより、テストが成功したかどうかの情報が、利用者にとって一目でわかるようになります。

3. **ビジネスルールの設定**：Azure DevOps には、特定の条件に応じて自動でステータスを更新するための「ビジネスルール」を定義することが可能です。例えば、すべてのテストが通過した場合、パイプラインステータスを「テスト済み」に更新するなどが設定できます。

4. **パイプライン変数の更新**：パイプライン内で定義された変数を手動で更新することも可能です。たとえば、変数に「テスト済み」「承認済み」などのステータスを反映し、次のステージでそれを利用することで、全体のワークフローを調整することができます。

5. **ダッシュボードとリリースノート**：Azure DevOpsのダッシュボード機能やリリースノートにて、利用者がステータスを更新したり、テスト結果やレビュー状況を共有することが可能です。各パイプライン実行のログや成果物も追跡できます。

これらを組み合わせることで、Azure DevOpsのパイプラインに「テスト済み」や「利用者確認済み」といったステータスを取り入れ、ワークフロー全体の透明性を向上させることができます。

### user — 2024-10-29T09:45:17.409056+00:00

ビジネスルールていぎの使い方

### assistant — 2024-10-29T09:45:57.640044+00:00

Azure DevOpsでのビジネスルールの定義と活用方法には、**ブランチポリシー**や**チェックリスト**を組み込んで、特定の条件が満たされた場合に自動的にステータスを更新する方法があります。

以下、主な設定とその使い方を紹介します。

### 1. ブランチポリシーでのルール設定
ブランチポリシーを使用して、プルリクエスト（PR）のステータスが「テスト済み」や「レビュー済み」となるような条件を設定することができます。

#### 使い方の手順
1. **リポジトリからポリシーを設定したいブランチを選択**します（例: `master` または `main`）。
2. **ブランチポリシー**を開き、以下のような設定を行います:
   - **PRの承認ルール**：特定のレビュアーまたはチームによる承認が必要な設定。
   - **ビルドの完了**：特定のビルドパイプラインが成功した場合のみ、マージを許可。
   - **ワークアイテムのリンク**：特定のワークアイテムがリンクされているかをチェックし、タスクが完了したことを確認。
3. 設定後、PRを作成すると自動的にチェックが行われ、ステータスが更新されます。

### 2. YAMLパイプラインで条件付きジョブ
YAMLパイプラインでは、条件に基づいてジョブを実行したりスキップしたりする「条件付きステップ」を定義できます。これにより、特定のビジネスルールに基づいてステータスが設定されます。

#### 例:
以下のコードスニペットは、特定の変数 `runTests` が `true` のときにのみテストを実行し、条件に応じてステータスを更新するものです。

```yaml
jobs:
- job: RunTests
  condition: eq(variables['runTests'], 'true')
  steps:
    - script: echo "Running tests..."
```

### 3. チェックリストの作成と承認プロセスの利用
Azure DevOpsのリリースパイプラインで**承認とチェックリスト**の設定を活用して、テスト結果やビジネス要件に基づいてステータスを設定できます。

#### 使い方の手順
1. **リリースパイプライン**で、ステージごとに承認を追加します。
2. **チェックリスト項目**として「テスト完了」「セキュリティ承認済み」などの項目を追加。
3. 承認者がチェックリストを確認し、各項目に応じてステータスを更新できます。

### 4. 自動化された通知とステータスの更新
Azure DevOpsでは、**通知ルール**を設定して、ステータスの変更や承認を自動的に通知できます。たとえば、特定の条件が満たされるとSlackやTeamsに通知するなどの自動化が可能です。

### まとめ
Azure DevOpsでのビジネスルールの活用により、プロジェクトの進行を効率化し、条件に応じたステータス更新が可能になります。これにより、ワークフローの透明性と信頼性を向上させることができます。
