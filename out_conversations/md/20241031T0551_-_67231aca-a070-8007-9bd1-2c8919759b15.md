---
conversation_id: "67231aca-a070-8007-9bd1-2c8919759b15"
title: "サービス停止コマンド クラスター"
create_time: 1730353866.833376
update_time: 1730354149.446552
language_guess: "en"
num_messages: 9
part_index: 1
part_count: 1
---

### system — 2024-10-31T05:51:06.833376+00:00

_(empty)_

### user — 2024-10-31T05:51:06.837204+00:00

WINDOWS　CLUSTER　SERVICESに登録したサービスを停止するコマンド

### assistant — 2024-10-31T05:51:11.451826+00:00

_(empty)_

### assistant — 2024-10-31T05:51:11.451990+00:00

Windows Cluster Servicesに登録したサービスを停止するには、`cluster`コマンドを使用します。以下のコマンドで停止可能です。

```cmd
cluster [ClusterName] resource "[ServiceName]" /offline
```

### 使用例
- `[ClusterName]`: クラスターの名前
- `[ServiceName]`: 停止するサービスの名前

### 例
```cmd
cluster MyCluster resource "MyService" /offline
```

このコマンドにより、指定したサービスが停止されます。

### user — 2024-10-31T05:51:47.124125+00:00

これの停止を秒指定でできるか

### assistant — 2024-10-31T05:51:51.022769+00:00

残念ながら、`cluster` コマンド自体には停止の秒指定オプションがありません。しかし、PowerShellスクリプトを使用して、タイマーで指定した秒数待機した後に停止する方法が可能です。

以下は、指定した秒数待機後にサービスを停止する例です。

### PowerShellスクリプト例

```powershell
# 秒数の設定（例えば10秒待機）
$waitSeconds = 10

# 待機
Start-Sleep -Seconds $waitSeconds

# サービス停止コマンド（クラスター名とサービス名を指定）
$clusterName = "MyCluster"
$serviceName = "MyService"
Start-Process -FilePath "cmd.exe" -ArgumentList "/c cluster $clusterName resource `"$serviceName`" /offline"
```

このスクリプトでは、`$waitSeconds`で待機時間を指定し、その後に`cluster`コマンドを実行して指定のサービスを停止します。

### user — 2024-10-31T05:55:42.414255+00:00

WINDOWSのATコマンドは秒単位の指定はできるのか

### assistant — 2024-10-31T05:55:48.759650+00:00

Windowsの`at`コマンドでは、タスクの実行時間を**分単位**で指定できるものの、**秒単位**での指定はできません。

代替手段として、**Windowsタスクスケジューラ**や、PowerShellで`Start-Sleep`コマンドを使った秒単位の遅延などがあります。もし秒単位のスケジューリングが必要な場合は、タスクスケジューラの「基本タスクの作成」機能などを使う方が柔軟に対応できるでしょう。

また、PowerShellを使って特定の秒数後に実行する例は以下の通りです。

### PowerShellを使った秒単位の実行例

```powershell
# 例えば、10秒待ってから実行
Start-Sleep -Seconds 10
# ここに実行したいコマンドを記述
Write-Output "10秒後に実行されました"
```

`at`コマンドがサポートしていない秒単位の指定も、PowerShellを使えば対応可能です。
