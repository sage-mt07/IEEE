---
conversation_id: "1d9e5c5b-1abc-44a1-95c9-97b9564d0666"
title: "Roslynパラメーター出力のパイプライン"
create_time: 1718350042.832074
update_time: 1718350060.682141
language_guess: "en"
num_messages: 5
part_index: 1
part_count: 1
---

### system — 2024-06-14T07:27:22.832074+00:00

_(empty)_

### user — 2024-06-14T07:27:22.839329+00:00

Azure devopsのpipelineでroslyn を使いとくていのメソッドのパラメーターをファイルとして出力

### assistant — 2024-06-14T07:27:39.567463+00:00

_(empty)_

### assistant — 2024-06-14T07:27:39.567520+00:00

Azure DevOpsのパイプラインでRoslynを使用して特定のメソッドのパラメーターをファイルとして出力するには、以下の手順を実行します。

1. **Roslynを使用してC#コードの解析を行うコンソールアプリケーションを作成**:
    - 新しいコンソールアプリケーションプロジェクトを作成し、Roslyn NuGetパッケージをインストールします（`Microsoft.CodeAnalysis.CSharp`など）。

2. **Roslynを使って特定のメソッドのパラメーターを抽出するコードを作成**:
    - 以下は簡単な例です。

```csharp
using System;
using System.IO;
using Microsoft.CodeAnalysis;
using Microsoft.CodeAnalysis.CSharp;
using Microsoft.CodeAnalysis.CSharp.Syntax;

class Program
{
    static void Main(string[] args)
    {
        string code = @"
        public class SampleClass
        {
            public void SampleMethod(int param1, string param2)
            {
            }
        }";

        SyntaxTree tree = CSharpSyntaxTree.ParseText(code);
        CompilationUnitSyntax root = tree.GetCompilationUnitRoot();

        var methodDeclarations = root.DescendantNodes().OfType<MethodDeclarationSyntax>();

        using (StreamWriter writer = new StreamWriter("method_parameters.txt"))
        {
            foreach (var method in methodDeclarations)
            {
                writer.WriteLine($"Method: {method.Identifier}");
                foreach (var parameter in method.ParameterList.Parameters)
                {
                    writer.WriteLine($"  Parameter: {parameter.Identifier}, Type: {parameter.Type}");
                }
            }
        }
    }
}
```

3. **Azure DevOps Pipelineの設定**:
    - コンソールアプリケーションをビルドし、実行するためのAzure DevOps Pipelineを作成します。

```yaml
trigger:
- main

pool:
  vmImage: 'windows-latest'

steps:
- task: UseDotNet@2
  inputs:
    packageType: 'sdk'
    version: '6.x.x' # 使用する.NETのバージョンに応じて変更

- script: dotnet build
  displayName: 'Build project'

- script: dotnet run --project <YourProjectName>
  displayName: 'Run Roslyn Analysis'
```

上記の手順に従うことで、Azure DevOpsのパイプラインを設定し、Roslynを使用して特定のメソッドのパラメーターを解析し、ファイルに出力できます。
